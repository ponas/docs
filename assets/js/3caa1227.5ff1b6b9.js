"use strict";(self.webpackChunkdocs_sikt_no=self.webpackChunkdocs_sikt_no||[]).push([[9275],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>k});var n=r(7294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var o=n.createContext({}),d=function(e){var t=n.useContext(o),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},u=function(e){var t=d(e.components);return n.createElement(o.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,a=e.originalType,o=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=d(r),k=i,m=p["".concat(o,".").concat(k)]||p[k]||c[k]||a;return r?n.createElement(m,s(s({ref:t},u),{},{components:r})):n.createElement(m,s({ref:t},u))}));function k(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=r.length,s=new Array(a);s[0]=p;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l.mdxType="string"==typeof e?e:i,s[1]=l;for(var d=2;d<a;d++)s[d]=r[d];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}p.displayName="MDXCreateElement"},4994:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>c,frontMatter:()=>a,metadata:()=>l,toc:()=>d});var n=r(7462),i=(r(7294),r(3905));const a={},s="Oppsett av MS Defender-integrasjon",l={unversionedId:"educsc/trusseletterretning/ms-defender",id:"educsc/trusseletterretning/ms-defender",title:"Oppsett av MS Defender-integrasjon",description:"For \xe5 ta i bruk eduCSC sine sperrelister i Microsoft Defender ATP, m\xe5 du lage en",source:"@site/docs/educsc/trusseletterretning/ms-defender.md",sourceDirName:"educsc/trusseletterretning",slug:"/educsc/trusseletterretning/ms-defender",permalink:"/docs/educsc/trusseletterretning/ms-defender",draft:!1,editUrl:"https://github.com/sikt-no/docs/tree/master/docs/educsc/trusseletterretning/ms-defender.md",tags:[],version:"current",lastUpdatedAt:1692791496,formattedLastUpdatedAt:"Aug 23, 2023",frontMatter:{},sidebar:"educsc",previous:{title:"Cybersikkerhetssenter for forskning og utdanning",permalink:"/docs/educsc/"}},o={},d=[],u={toc:d};function c(e){let{components:t,...r}=e;return(0,i.kt)("wrapper",(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"oppsett-av-ms-defender-integrasjon"},"Oppsett av MS Defender-integrasjon"),(0,i.kt)("p",null,"For \xe5 ta i bruk eduCSC sine sperrelister i Microsoft Defender ATP, m\xe5 du lage en\napp-registrering hos Microsoft. eduCSC bruker denne til \xe5 kople seg til og\nfortl\xf8pende legge inn indikatorer som skal blokkeres eller alarmeres."),(0,i.kt)("p",null,"Slik g\xe5r du fram:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Lag en app-registrering (se ",(0,i.kt)("a",{parentName:"li",href:"https://learn.microsoft.com/en-us/azure/active-directory/develop/quickstart-register-app"},"Microsoft sin\nguide"),").\nMerk deg ",(0,i.kt)("strong",{parentName:"li"},"\xabdirectory (tenant) ID\xbb")," og ",(0,i.kt)("strong",{parentName:"li"},"\xabapplication (client) ID\xbb"),"."),(0,i.kt)("li",{parentName:"ul"},"Via \xabAPI permissions\xbb, legg til WindowDefenderATP: Ti.ReadWrite (\xabRead and\nwrite IOCs belonging to the app\xbb).",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Merk: Dette er ",(0,i.kt)("strong",{parentName:"li"},"ikke")," det samme som ",(0,i.kt)("inlineCode",{parentName:"li"},"Ti.ReadWrite.All"),". Vi anbefaler ikke \xe5 bruke denne, siden\nden gir st\xf8rre tilganger enn eduCSC trenger. Mer konkret kan vi f\xe5 innsikt i ev. lukket\ninformasjon fra andre leverand\xf8rer eller internt i indikatorlistene til Microsoft Defender."))),(0,i.kt)("li",{parentName:"ul"},"Via \xabCertificates and secrets\xbb, lag en client secret. ",(0,i.kt)("strong",{parentName:"li"},"Skriv ned innholdet i\nhemmeligheten"),", dvs. \xabclient secret\xbb. Husk ogs\xe5 at denne m\xe5 meldes til eduCSC\np\xe5 nytt om hemmeligheten g\xe5r ut p\xe5 dato (expiry).")),(0,i.kt)("p",null,"Meld deretter f\xf8lgende tilbake til eduCSC (via IRT-chat):"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Directory (tenant) ID"),(0,i.kt)("li",{parentName:"ul"},"Application (client) ID"),(0,i.kt)("li",{parentName:"ul"},"(Client) secret, det vil si hemmeligheten du laget tidligere. Merk at dette er\nselve verdien og ",(0,i.kt)("strong",{parentName:"li"},"ikke")," \xabsecret ID\xbb. Om du ikke skrev det ned, slett den\ngamle hemmeligheten og lag en ny."),(0,i.kt)("li",{parentName:"ul"},"Om du vil ha alarmer uten blokkering i starten eller ikke. Vi anbefaler dette\nfor \xe5 unng\xe5 un\xf8dvendig risiko og ev. frustrasjoner hos brukerne i\ninnkj\xf8ringsfasen. Dette kan enkelt skrus av eller p\xe5 ved \xe5 sende melding til\neduCSC.")),(0,i.kt)("p",null,"Synkronisering tar typisk 10 minutter etter det er lagt inn. Du kan stadfeste at\ndata kommer inn ved \xe5 bes\xf8ke ",(0,i.kt)("a",{parentName:"p",href:"https://security.microsoft.com"},"sikkerhetsportalen til Microsoft"),",\ng\xe5 til \xabSettings\xbb, deretter \xabEndpoints\xbb, \xabIndicators\xbb og til sist \xabURLs/Domains\xbb.\nReglene til eduCSC starter med \xabEDUCSC <FEEDNAMN\xbb -\xbb."),(0,i.kt)("p",null,"For \xe5 teste p\xe5 klient, sjekk om domenet ",(0,i.kt)("inlineCode",{parentName:"p"},"ms-atp.dnsbrannmur[.]no")," lager varsel\neller blokkering. Merk at det kan ta noe tid for Microsoft synkroniserer all\ndataen ut p\xe5 endepunkt."),(0,i.kt)("p",null,"Ved mistanke om falske positive, kontakt eduCSC via IRT-chat. Dette gjelder\nspesielt ved blokkering."))}c.isMDXComponent=!0}}]);